<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GlowTrack — Full</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="styles.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="app">
    <header class="header">
      <div><h1>GlowTrack</h1><div class="subtitle" id="phaseLabel">No active phase</div></div>
      <div class="profile">Age: 38 • Goal: Weight Loss</div>
    </header>

    <main class="container">
      <section id="setup" class="card">
        <h2>Start a New Phase</h2>
        <div class="form-row">
          <label>Phase length</label>
          <select id="phaseLength"><option value="30">30 days</option><option value="45">45 days</option><option value="60">60 days</option><option value="c25">Couch→5K</option></select>
        </div>
        <div class="form-row">
          <label>Activity level</label>
          <select id="activityLevel"><option value="sedentary">Sedentary</option><option value="light">Lightly Active</option><option value="moderate">Moderate</option><option value="active">Very Active</option></select>
        </div>
        <div class="form-row">
          <label>Primary goal</label>
          <select id="primaryGoal"><option value="weight">Weight Loss</option><option value="dailySteps">Daily Steps</option><option value="weeklySteps">Weekly Steps</option><option value="minutes">Minutes Moving</option><option value="endurance">Endurance</option></select>
        </div>
        <div class="form-row">
          <button id="startPhaseBtn" class="btn primary">Start Phase</button>
          <button id="clearDataBtn" class="btn ghost">Reset All Data</button>
        </div>
        <p class="small">Phase generator creates a progressive walking & Pilates plan tailored to activity level.</p>
      </section>

      <section id="dashboard" class="card">
        <h2>Home Dashboard</h2>
        <div class="grid metrics">
          <div class="metric" id="metricSteps"><div class="big">0</div><div class="label">Steps (today)</div></div>
          <div class="metric" id="metricMinutes"><div class="big">0</div><div class="label">Minutes moved</div></div>
          <div class="metric" id="metricWeight"><div class="big">—</div><div class="label">Weight (latest)</div></div>
          <div class="metric" id="metricMiles"><div class="big">0.0</div><div class="label">Miles (week)</div></div>
        </div>

        <div class="grid">
          <div class="card smallCard" id="calendarCard">
            <h3>Calendar (phase)</h3>
            <div id="calendarGrid"></div>
            <div class="legend"><span class="dot green"></span>Completed <span class="dot yellow"></span>Partial <span class="dot white"></span>None <span class="dot purple"></span>Rest</div>
          </div>

          <div class="card smallCard">
            <h3>Quick Log</h3>
            <div class="form-row"><label>Steps</label><input id="quickSteps" type="number" placeholder="e.g. 2000"></div>
            <div class="form-row"><label>Minutes</label><input id="quickMinutes" type="number" placeholder="e.g. 30"></div>
            <div class="form-row"><label>Weight (lb)</label><input id="quickWeight" type="number" step="0.1" placeholder="e.g. 198"></div>
            <div style="display:flex;gap:8px"><button id="logQuickBtn" class="btn primary">Log</button><button id="markWorkoutBtn" class="btn ghost">Mark Workout Complete</button></div>
          </div>
        </div>

        <div class="graphs grid-2">
          <div class="card"><h3>Weight</h3><canvas id="weightChart"></canvas></div>
          <div class="card"><h3>Steps</h3><canvas id="stepsChart"></canvas></div>
        </div>
      </section>

      <section id="workoutArea" class="card">
        <h2>Today's Workout</h2>
        <div id="todayWorkoutInfo">No phase — create one to see daily workouts.</div>
        <div id="timerUI" style="display:none;">
          <div id="timerLabel" class="small">Warm-up</div>
          <div id="timerDisplay" class="timer">0:00</div>
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button id="timerStart" class="btn primary">Start</button>
            <button id="timerPause" class="btn ghost">Pause</button>
            <button id="timerReset" class="btn ghost">Reset</button>
          </div>
          <div class="small">Cues: voice + beep when intervals change.</div>
        </div>
        <details id="pilatesDetails"><summary>Pilates / Strength</summary><div id="pilatesList"></div></details>
      </section>

      <section id="history" class="card">
        <h2>Logs & Data</h2>
        <div id="rawLogs"></div>
      </section>
    </main>

    <footer class="footer">GlowTrack — Offline & Installable</footer>
  </div>

<script src="app.js"></script>
</body>
</html>
